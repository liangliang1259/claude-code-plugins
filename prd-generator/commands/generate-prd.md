---
description: 生成全面、结构良好的产品需求文档（PRD）
---

# 生成PRD命令

## 命令说明

本命令帮助产品经理创建全面、结构良好的产品需求文档（PRD），遵循行业最佳实践。

## 使用方法

```bash
/prd-generator:generate-prd
```

## 工作流程

### 第1步：选择PRD类型

询问用户需要生成哪种类型的PRD：

1. **标准PRD** - 全面的产品需求文档，适合重大项目
   - 包含完整的章节结构
   - 详细的用户故事和验收标准
   - 全面的技术和设计考虑
   - 适用场景：新产品、重大功能、复杂项目

2. **精益PRD** - 精简的需求文档，适合敏捷团队
   - 聚焦核心内容
   - 快速迭代
   - 适用场景：快速迭代、小型功能、MVP

3. **单页PRD** - 执行摘要格式，适合快速对齐
   - 1-2页概述
   - 核心需求和指标
   - 适用场景：高层汇报、快速决策、概念验证

4. **技术PRD** - 工程重点的需求文档
   - 详细的技术架构
   - API规范和数据模型
   - 适用场景：技术项目、系统重构、基础设施

5. **设计PRD** - UX/UI重点的需求文档
   - 详细的设计要求
   - 用户体验流程
   - 适用场景：设计密集型功能、UI改版

### 第2步：选择输入来源

询问用户如何提供需求信息：

1. **交互式输入** - 通过对话收集需求（推荐）
   - 启动prd-discovery代理
   - 通过问答收集信息

2. **本地文件** - 从本地文件读取需求
   - 支持Markdown、文本文件
   - 解析文件内容

3. **飞书文档导出** - 从飞书导出的文档读取
   - 支持Markdown格式
   - 解析飞书文档结构

4. **飞书API** - 直接从飞书获取文档（需配置）
   - 需要先运行 `/prd-generator:config-feishu`
   - 输入飞书文档URL或ID
   - 自动获取和解析内容

### 第3步：收集需求信息

根据选择的输入来源：

#### 如果选择"交互式输入"：
启动 `prd-discovery` 代理，通过以下问题收集信息：

1. **产品/功能名称**：我们要构建什么？
2. **问题陈述**：我们要解决什么问题？
3. **目标用户**：主要用户/受众是谁？
4. **业务目标**：关键业务目标是什么？
5. **成功指标**：如何衡量成功？
6. **技术约束**：有哪些技术限制或依赖？
7. **时间线**：预期的时间表是什么？
8. **范围**：明确包含和不包含什么？

#### 如果选择"本地文件"：
- 询问文件路径
- 读取文件内容
- 解析需求信息

#### 如果选择"飞书文档"：
- 询问飞书文档URL或文档ID
- 使用feishu_client获取文档内容
- 解析文档结构

### 第4步：生成PRD文档

1. 启动 `prd-builder` 代理
2. 传递收集的需求信息和选择的PRD类型
3. 代理根据对应模板生成PRD：
   - 标准PRD: `references/prd_template.md`
   - 精益PRD: `references/prd_template_lean.md`
   - 单页PRD: `references/prd_template_onepager.md`
   - 技术PRD: `references/prd_template_technical.md`
   - 设计PRD: `references/prd_template_design.md`

### 第5步：保存PRD文件

1. 询问输出文件名（默认：`[产品名称]-prd.md`）
2. 保存到 `outputs/` 目录
3. 创建版本记录到 `outputs/.versions/` 目录

### 第6步：验证PRD（可选）

询问用户是否需要验证PRD：
- 如果是，运行 `/prd-generator:validate-prd`
- 显示验证结果和改进建议

### 第7步：完成

显示成功消息和后续步骤：
```
✅ PRD已成功生成！

📄 文件位置: outputs/[文件名].md
📊 PRD类型: [类型]
📅 创建时间: [时间]

后续步骤：
1. 查看生成的PRD文档
2. 运行 /prd-generator:validate-prd 验证文档完整性
3. 与团队分享并收集反馈
4. 使用 /prd-generator:version-prd 管理版本
```

## 示例对话流程

### 示例1：创建标准PRD

```
用户: /prd-generator:generate-prd

助手: 我将帮助你创建一个产品需求文档（PRD）。

首先，请选择PRD类型：
1. 标准PRD - 全面的产品需求文档
2. 精益PRD - 精简的需求文档
3. 单页PRD - 执行摘要格式
4. 技术PRD - 工程重点
5. 设计PRD - UX/UI重点

用户: 1

助手: 好的，我们将创建标准PRD。

请选择输入来源：
1. 交互式输入 - 通过对话收集需求（推荐）
2. 本地文件 - 从文件读取
3. 飞书文档导出 - 从飞书导出的文档
4. 飞书API - 直接从飞书获取

用户: 1

助手: [启动prd-discovery代理]
让我们开始收集需求信息...

1. 产品/功能名称是什么？

用户: 移动端生物识别认证

助手: 2. 我们要解决什么问题？

用户: 用户每次登录都需要输入密码，体验不够便捷，同时密码安全性也存在隐患。

[继续问答...]

助手: [启动prd-builder代理]
正在生成PRD文档...

✅ PRD已成功生成！

📄 文件位置: outputs/移动端生物识别认证-prd.md
📊 PRD类型: 标准PRD
📅 创建时间: 2026-02-13 14:30:00

是否需要验证PRD文档？(y/n)
```

## 注意事项

1. **需求收集**：
   - 鼓励用户提供详细信息
   - 对模糊的回答追问
   - 确保关键信息完整

2. **模板选择**：
   - 根据项目复杂度推荐合适的模板
   - 标准PRD适合大多数场景
   - 精益PRD适合快速迭代

3. **文件命名**：
   - 使用清晰的命名规范
   - 包含产品/功能名称
   - 避免特殊字符

4. **版本管理**：
   - 每次生成自动创建版本
   - 建议定期打标签
   - 保留变更历史

5. **飞书集成**：
   - 首次使用需要配置
   - 确保有文档访问权限
   - 支持Markdown格式

## 相关命令

- `/prd-generator:validate-prd` - 验证PRD文档
- `/prd-generator:config-feishu` - 配置飞书API
- `/prd-generator:version-prd` - 管理PRD版本

## 参考资料

- `references/prd_template*.md` - PRD模板
- `references/user_story_examples.md` - 用户故事示例
- `references/metrics_frameworks.md` - 指标框架指南
