---
description: 验证PRD文档的完整性和质量
---

# 验证PRD命令

## 命令说明

验证现有PRD文档的完整性、格式正确性和质量，提供改进建议。

## 使用方法

```bash
/prd-generator:validate-prd
```

## 工作流程

### 第1步：选择PRD文件

询问用户要验证的PRD文件：
- 列出 `outputs/` 目录下的所有PRD文件
- 或者让用户输入文件路径

### 第2步：运行验证

调用Python验证脚本：
```bash
python scripts/validate_prd.py [文件路径]
```

### 第3步：显示验证结果

显示验证报告，包括：

#### 1. 文档结构检查
- ✅ 所有必需章节存在
- ⚠️ 缺少的章节
- ℹ️ 可选章节建议

#### 2. 用户故事验证
- ✅ 用户故事格式正确
- ❌ 格式不正确的用户故事
- ⚠️ 缺少验收标准的故事

#### 3. 成功指标检查
- ✅ 成功指标已定义
- ⚠️ 指标不够具体
- ℹ️ 建议的指标框架

#### 4. 内容完整性
- ✅ 无占位符文本
- ⚠️ 发现占位符：[待定]、[TODO]
- ℹ️ 需要补充的内容

#### 5. 质量评分
```
总体评分: 85/100

✅ 优秀 (4项)
⚠️ 需改进 (2项)
❌ 问题 (0项)
```

### 第4步：提供改进建议

根据验证结果提供具体建议：

```
改进建议：

1. 用户故事 #3 缺少验收标准
   建议：添加3-5个具体、可测试的验收标准

2. 成功指标不够具体
   当前：提升用户满意度
   建议：NPS从40提升到50（+25%）

3. 技术考虑章节需要补充
   建议：添加性能要求、安全考虑、技术依赖
```

## 验证规则

### 标准PRD验证规则
必需章节：
- [ ] 执行摘要
- [ ] 问题陈述
- [ ] 目标与目的
- [ ] 用户画像
- [ ] 用户故事与需求
- [ ] 成功指标
- [ ] 范围
- [ ] 技术考虑

### 精益PRD验证规则
必需章节：
- [ ] 问题
- [ ] 解决方案
- [ ] 用户故事
- [ ] 成功指标
- [ ] 范围

### 用户故事格式
正确格式：
```
作为 [用户类型]，
我想要 [操作]，
以便 [价值]。

验收标准：
- [ ] [标准1]
- [ ] [标准2]
```

### 成功指标要求
- 必须有具体数值
- 必须可衡量
- 建议包含当前值和目标值

## 验证选项

### 基础验证
```bash
/prd-generator:validate-prd
```
检查基本结构和格式

### 详细验证
询问是否需要详细验证：
- 内容质量分析
- 用户故事深度检查
- 指标合理性评估

### 特定章节验证
询问是否只验证特定章节：
- 用户故事
- 成功指标
- 技术考虑
- 设计要求

## 示例输出

```
正在验证PRD: outputs/移动端生物识别认证-prd.md

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 文档结构检查
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 执行摘要
✅ 问题陈述
✅ 目标与目的
✅ 用户画像
✅ 用户故事与需求
✅ 成功指标
✅ 范围
⚠️ 技术考虑 - 内容不完整

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
👤 用户故事验证 (5个故事)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 故事 #1: 启用生物识别
✅ 故事 #2: 生物识别登录
❌ 故事 #3: 格式不正确
   问题: 缺少"以便"部分
   位置: 第45行

⚠️ 故事 #4: 缺少验收标准
⚠️ 故事 #5: 验收标准不够具体

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 成功指标检查
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 使用了HEART框架
✅ 指标可衡量
⚠️ 建议添加当前基线值

指标列表:
- 采用率: 目标60% (缺少当前值)
- 登录成功率: 目标95% (当前85%)
- 用户满意度: 目标4.5/5 (当前4.0/5)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 内容完整性
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ 发现2处占位符:
- 第78行: [待定]
- 第92行: [TODO: 补充技术细节]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📈 总体评分: 82/100
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 优秀 (6项)
⚠️ 需改进 (4项)
❌ 问题 (1项)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💡 改进建议
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 修复用户故事 #3 的格式问题
   添加"以便"部分说明用户价值

2. 为故事 #4 和 #5 添加详细的验收标准
   每个故事至少3-5个具体、可测试的标准

3. 补充成功指标的当前基线值
   这有助于衡量改进幅度

4. 完善技术考虑章节
   建议添加：
   - 性能要求
   - 安全考虑
   - 技术依赖

5. 移除占位符文本
   补充完整的内容

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

是否需要查看详细的验证报告？(y/n)
```

## 相关命令

- `/prd-generator:generate-prd` - 生成PRD文档
- `/prd-generator:version-prd` - 管理PRD版本

## 参考资料

- `references/user_story_examples.md` - 用户故事最佳实践
- `references/metrics_frameworks.md` - 指标框架指南
